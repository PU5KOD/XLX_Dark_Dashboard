1. Instalar as dependências do banco de dados:
sudo apt install sqlite3 php-sqlite3
sudo service apache2 restart

2. Criar o processo de atualização diária da base de dados dos indicativos, se não tiver o app "crontab" instalado verificar o item 6 sobre como criar um serviço baseado em systemd:
sudo crontab -e
Inserir o valor abaixo no final do arquivo, ajustar os caminhos caso necessário:
0 3 * * * wget -O /xlxd/users_db/user.csv https://radioid.net/static/user.csv && php /xlxd/users_db/create_user_db.php

3. Fazer o download do arquivo de usuários base:
sudo wget -O /xlxd/users_db/user.csv https://radioid.net/static/user.csv

4. Copiar o arquivo "create_user_db.php" para /xlxd/users_db/

5. Executar o script para criação da base de dados SQLite:
sudo php /xlxd/users_db/create_user_db.php
sudo chown www-data:www-data /xlxd/users_db/users.db
sudo chmod 644 /xlxd/users_db/users.db

6. Caso não possua o "crontab" instalado e não quiser instalar ele é possível usar o systemd para executar os procedimentos de update, são dois arquivos, o update_XLX_db.service e o update_XLX_db.timer, segue o script.

	6.1. Criar o arquivo do serviço::
	sudo nano /etc/systemd/system/update_XLX_db.service
	com o seguinte conteúdo:
	
[Unit]
Description=Atualizar o banco de dados de usuarios do XLX

[Service]
Type=oneshot
ExecStart=/bin/bash -c '/xlxd/users_db/update_db.sh  >> /var/log/update_XLX_db.log 2>&1'
StandardOutput=journal
StandardError=journal

	6.2. Criar o arquivo do timer:
	sudo nano /etc/systemd/system/update_XLX_db.timer
	coom o seguinte conteúdo:

[Unit]
Description=Executar update_XLX_db.sh diariamente às 3h

[Timer]
OnCalendar=*-*-* 03:00:00
Persistent=true

[Install]
WantedBy=timers.target


	6.3. Recarregar os serviços:
	sudo systemctl daemon-reload
	sudo systemctl enable --now update_XLX_db.timer

	6.4. Verificar se o timer está ativo e funcionando:
	systemctl list-timers --all | grep update_XLX_db
	
	6.5. Se quiser testar manualmente o serviço:
	sudo systemctl start update_XLX_db.service



=======================================================



Adequação do Apache necessária para exibir as datas corretamente:

1. Em /etc/php/8.2/apache2/php.ini procurar pelo parâmetro date.timezone (no arquivo ele está abaixo de "Module Settings") e definir ele para o local correto, no exemplo abaixo ficou definido como date.timezone = "America/Sao_Paulo", existem outros valores que também podem ser alterados a vontade, so não esquecer de apagar o ; da frente do parâmetro para habilita-lo.
Após a alteração fazer o reload do apache com "sudo systemctl reload apache2.service".

[Date]
; Defines the default timezone used by the date functions
; https://php.net/date.timezone
date.timezone = "America/Sao_Paulo"

; https://php.net/date.default-latitude
date.default_latitude = -26.1493

; https://php.net/date.default-longitude
date.default_longitude = -49.8123



=======================================================



Na guia "Rede" para que as datas sejam exibidas em português basta adicionar o idioma português aos já instalados disponíveis na máquina, para isso basta entrar o comando abaixo e marcar o idioma pt_BR.UTF-8 UTF-8 e adicionar ele aos existentes, não é necessário marca-lo como principal, basta estar presente na lista:
sudo dpkg-reconfigure locales



=======================================================



To-do
Detalhar procedimentos para site com senha